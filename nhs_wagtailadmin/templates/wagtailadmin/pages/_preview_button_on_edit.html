{% with current_revision=revision|default:page.get_latest_revision %}
<button
    class="button action-revision-preview {% if icon %}icon icon-view{% endif %}"
    type="button"
    data-preview-disabled="{{ has_unsaved_changes|yesno:"true,false" }}"
    data-action="{% url 'wagtailadmin_pages:revisions_view' page.id current_revision.id %}"
    data-windowname="wagtail_preview_{{ page.id }}"
>
    {{ label }}
</button>
{% endwith %}
